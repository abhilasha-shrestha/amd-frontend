<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AMD Water Quality Monitoring System</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🌊 AMD Water Quality Monitoring System</h1>
            <p>Real-time monitoring with AI-powered predictive maintenance</p>
            <div style="margin-top: 15px;">
                <span class="status-indicator status-safe"></span>
                <span id="system-status">System Online</span> | 
                Last Update: <span id="last-update">--</span>
            </div>
        </div>

        <div class="status-grid">
            <!-- pH -->
            <div class="status-card">
                <h3>pH Level</h3>
                <div class="sensor-value ph-value" id="ph-value">--</div>
                <p>Target: 4.5 - 7.0</p>
                <div class="progress-bar"><div class="progress-fill" id="ph-progress"></div></div>
            </div>

            <!-- Turbidity -->
            <div class="status-card">
                <h3>Turbidity (NTU)</h3>
                <div class="sensor-value turbidity-value" id="turbidity-value">--</div>
                <p>Target: &lt; 1000 NTU</p>
                <div class="progress-bar"><div class="progress-fill" id="turbidity-progress"></div></div>
            </div>

            <!-- ORP -->
            <div class="status-card">
                <h3>ORP (mV)</h3>
                <div class="sensor-value orp-value" id="orp-value">--</div>
                <p>Estimated Value</p>
                <div class="progress-bar"><div class="progress-fill" id="orp-progress"></div></div>
            </div>
        </div>

        <div class="alert-section">
            <h3>🚨 System Alerts & AI Predictions</h3>
            <div id="alerts-container">
                <div class="alert alert-safe">
                    <span class="status-indicator status-safe"></span>
                    System is operating normally. All parameters within safe range.
                </div>
            </div>
        </div>

        <div class="charts-section">
            <div class="chart-container">
                <h3>📊 pH Trend (Live from ThingSpeak)</h3>
                <iframe class="thingspeak-embed" src="https://thingspeak.com/channels/2995113/charts/1?bgcolor=%23ffffff&color=%23d62020&dynamic=true&results=60&type=line&update=15"></iframe>
            </div>
            <div class="chart-container">
                <h3>📊 Turbidity Trend (Live from ThingSpeak)</h3>
                <iframe class="thingspeak-embed" src="https://thingspeak.com/channels/2995113/charts/2?bgcolor=%23ffffff&color=%23ff9900&dynamic=true&results=60&type=line&update=15"></iframe>
            </div>
        </div>

        <div class="ai-predictions">
            <h3>🤖 AI Predictive Analysis</h3>
            <div class="prediction-card">
                <div class="prediction-title">Predictive Maintenance</div>
                <div id="maintenance-prediction">Limestone replacement needed in: <strong>5 days</strong><br>Confidence: 87%</div>
            </div>
            <div class="prediction-card">
                <div class="prediction-title">Water Quality Classification</div>
                <div id="quality-prediction">Current Status: <strong>Warning Level</strong><br>Recommendation: Monitor closely for next 24 hours</div>
            </div>
            <div class="prediction-card">
                <div class="prediction-title">Anomaly Detection</div>
                <div id="anomaly-prediction">System Status: <strong>Normal Operation</strong><br>No anomalies detected in sensor readings</div>
            </div>
        </div>

        <div class="controls">
            <h3>🎛️ System Controls</h3>
            <button class="btn" onclick="refreshData()">🔄 Refresh Data</button>
            <button class="btn" onclick="exportData()">📥 Export Data</button>
            <button class="btn" onclick="runAIAnalysis()">🤖 Run AI Analysis</button>
            <button class="btn" onclick="calibrateSensors()">⚙️ Calibrate Sensors</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
